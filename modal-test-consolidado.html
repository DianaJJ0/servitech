<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Modal CSS Consolidado</title>
  <style>
    /* Variables admin */
    :root {
      --admin-bg: #0e1525;
      --admin-card-bg: #1c2333;
      --admin-border-color: #2b3245;
      --admin-hover-bg: #252e43;
      --admin-accent-color: #3a8eff;
      --admin-text-primary: #f5f5f5;
      --admin-text-secondary: #a0a0a0;
      --admin-shadow: 0 4px 12px #00000040;
      --modal-max-width: 920px;
      --modal-radius: 12px;
      --modal-padding: 1rem 1.25rem;
      --modal-z: 999999;
      --modal-backdrop: rgba(4, 8, 16, 0.75);
      --modal-transition: 200ms cubic-bezier(0.2, 0.9, 0.2, 1);
    }

    body {
      background: var(--admin-bg);
      color: var(--admin-text-primary);
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
    }

    .test-button {
      background: var(--admin-accent-color);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px;
    }

    /* CSS del modal consolidado exacto */
    @keyframes modal-fade-in {
      from {
        opacity: 0;
        transform: translateY(8px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .modal-expert,
    div.modal-expert,
    #verPerfilExperto {
      display: none !important;
      position: fixed !important;
      inset: 0 !important;
      background: var(--modal-backdrop) !important;
      z-index: var(--modal-z) !important;
      justify-content: center !important;
      align-items: center !important;
      padding: 1.25rem !important;
      margin: 0 !important;
      border: none !important;
      outline: none !important;
      box-sizing: border-box !important;
    }

    .modal-expert.modal-open,
    .modal-expert.show,
    .modal-expert.is-open,
    div.modal-expert.modal-open,
    div.modal-expert.show,
    div.modal-expert.is-open,
    #verPerfilExperto.modal-open,
    #verPerfilExperto.show,
    #verPerfilExperto.is-open {
      display: flex !important;
      opacity: 1 !important;
      visibility: visible !important;
      z-index: var(--modal-z) !important;
      animation: modal-fade-in var(--modal-transition) ease both !important;
    }

    .modal-expert__container {
      width: 100% !important;
      max-width: var(--modal-max-width) !important;
      border-radius: var(--modal-radius) !important;
      overflow: hidden !important;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4) !important;
      border: 1px solid var(--admin-border-color) !important;
      background: var(--admin-card-bg) !important;
      color: var(--admin-text-primary) !important;
      max-height: 95vh !important;
      display: flex !important;
      flex-direction: column !important;
      position: relative !important;
      z-index: calc(var(--modal-z) + 1) !important;
      margin: auto !important;
      transform: none !important;
    }

    .modal-expert__header {
      padding: var(--modal-padding) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      border-bottom: 1px solid var(--admin-border-color) !important;
      background: var(--admin-card-bg) !important;
      flex-shrink: 0 !important;
    }

    .modal-expert__title {
      margin: 0 !important;
      font-size: 1.25rem !important;
      font-weight: 600 !important;
      color: var(--admin-text-primary) !important;
    }

    .btn-close {
      background: transparent !important;
      border: none !important;
      color: var(--admin-text-secondary) !important;
      font-size: 1.25rem !important;
      padding: 0.5rem !important;
      border-radius: 6px !important;
      cursor: pointer !important;
      transition: all var(--modal-transition) !important;
    }

    .modal-expert__body {
      padding: var(--modal-padding) !important;
      overflow-y: auto !important;
      flex: 1 !important;
    }
  </style>
</head>

<body>
  <h1>Test Modal CSS Consolidado</h1>
  <button class="test-button" onclick="openTestModal()">Abrir Modal de Prueba</button>

  <!-- Modal de prueba con la misma estructura -->
  <div id="verPerfilExperto" class="modal-expert">
    <div class="modal-expert__container">
      <div class="modal-expert__header">
        <h3 class="modal-expert__title">‚úÖ Modal Funcionando</h3>
        <button class="btn-close" onclick="closeTestModal()">&times;</button>
      </div>
      <div class="modal-expert__body">
        <p><strong>¬°Excelente!</strong> El CSS del modal est√° funcionando correctamente.</p>
        <p>Si puedes ver este modal, significa que:</p>
        <ul>
          <li>‚úÖ Las reglas CSS se aplican correctamente</li>
          <li>‚úÖ El z-index es apropiado</li>
          <li>‚úÖ El backdrop est√° funcionando</li>
          <li>‚úÖ La animaci√≥n se ejecuta</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    function openTestModal() {
      console.log('üöÄ Abriendo modal de prueba...');
      const modal = document.getElementById('verPerfilExperto');

      // A√±adir m√∫ltiples clases para m√°xima compatibilidad
      modal.classList.add('modal-open', 'show', 'is-open');

      // Debug informaci√≥n
      console.log('üìã Clases a√±adidas:', modal.classList.toString());
      console.log('üëÅÔ∏è Display computado:', window.getComputedStyle(modal).display);
      console.log('üìê Z-index computado:', window.getComputedStyle(modal).zIndex);
      console.log('üé® Background computado:', window.getComputedStyle(modal).background);
    }

    function closeTestModal() {
      console.log('‚ùå Cerrando modal de prueba...');
      const modal = document.getElementById('verPerfilExperto');
      modal.classList.remove('modal-open', 'show', 'is-open');
    }

    // Test autom√°tico al cargar
    window.addEventListener('load', function () {
      console.log('üîç P√°gina cargada, verificando CSS...');
      const modal = document.getElementById('verPerfilExperto');
      console.log('üÜî Modal encontrado:', !!modal);
      console.log('üìè Estilos iniciales:', {
        display: window.getComputedStyle(modal).display,
        position: window.getComputedStyle(modal).position,
        zIndex: window.getComputedStyle(modal).zIndex
      });
    });
  </script>
</body>

</html>
