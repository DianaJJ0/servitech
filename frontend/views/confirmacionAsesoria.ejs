<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmación de Asesoría - ServiTech</title>
  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/confirmacion.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <!-- Header -->
  <%- include('componentes/header') %>

    <div class="container">
      <div class="confirmacion-container">
        <% if (status==='success' ) { %>
          <!-- Éxito -->
          <div class="confirmacion-card success">
            <div class="icon-container">
              <i class="fas fa-check-circle"></i>
            </div>
            <h1>¡Asesoría agendada exitosamente!</h1>
            <p class="mensaje-principal">
              Tu asesoría ha sido programada y el experto ha sido notificado.
            </p>

            <div class="pasos-siguientes">
              <h3>¿Qué sigue ahora?</h3>
              <div class="paso">
                <div class="paso-numero">1</div>
                <div class="paso-contenido">
                  <h4>Espera la confirmación</h4>
                  <p>El experto tiene hasta 24 horas para aceptar o rechazar tu solicitud.</p>
                </div>
              </div>
              <div class="paso">
                <div class="paso-numero">2</div>
                <div class="paso-contenido">
                  <h4>Recibe notificación</h4>
                  <p>Te enviaremos un correo cuando el experto responda a tu solicitud.</p>
                </div>
              </div>
              <div class="paso">
                <div class="paso-numero">3</div>
                <div class="paso-contenido">
                  <h4>Realiza la asesoría</h4>
                  <p>Si es aceptada, podrás contactar al experto para coordinar los detalles.</p>
                </div>
              </div>
            </div>

            <div class="acciones">
              <a href="/misAsesorias.html" class="btn btn-primary">
                <i class="fas fa-calendar-alt"></i>
                Ver mis asesorías
              </a>
              <a href="/expertos.html" class="btn btn-secondary">
                <i class="fas fa-search"></i>
                Buscar más expertos
              </a>
            </div>
          </div>

          <% } else if (status==='pending' ) { %>
            <!-- Pendiente -->
            <div class="confirmacion-card pending">
              <div class="icon-container">
                <i class="fas fa-clock"></i>
              </div>
              <h1>Pago en proceso</h1>
              <p class="mensaje-principal">
                Tu pago está siendo procesado. En unos minutos recibirás la confirmación.
              </p>

              <div class="loading-indicator">
                <div class="spinner"></div>
                <p>Procesando pago...</p>
              </div>

              <div class="acciones">
                <button onclick="window.location.reload()" class="btn btn-primary">
                  <i class="fas fa-sync-alt"></i>
                  Actualizar estado
                </button>
                <a href="/misAsesorias.html" class="btn btn-secondary">
                  <i class="fas fa-calendar-alt"></i>
                  Ver mis asesorías
                </a>
              </div>
            </div>

            <% } else { %>
              <!-- Error o fallo -->
              <div class="confirmacion-card error">
                <div class="icon-container">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h1>Ocurrió un problema</h1>
                <p class="mensaje-principal">
                  No se pudo procesar tu solicitud de asesoría. No te preocupes, no se realizó ningún cargo.
                </p>

                <div class="error-detalles">
                  <h4>Posibles causas:</h4>
                  <ul>
                    <li>Problema temporal con el sistema de pagos</li>
                    <li>El horario seleccionado ya no está disponible</li>
                    <li>Error de conexión</li>
                  </ul>
                </div>

                <div class="acciones">
                  <a href="/expertos.html" class="btn btn-primary">
                    <i class="fas fa-redo"></i>
                    Intentar nuevamente
                  </a>
                  <a href="/contacto.html" class="btn btn-secondary">
                    <i class="fas fa-envelope"></i>
                    Contactar soporte
                  </a>
                </div>
              </div>
              <% } %>
      </div>

      <!-- Información adicional -->
      <div class="info-adicional">
        <div class="info-grid">
          <div class="info-item">
            <i class="fas fa-shield-alt"></i>
            <h4>Pago seguro</h4>
            <p>Tu dinero está protegido hasta que la asesoría se complete exitosamente.</p>
          </div>
          <div class="info-item">
            <i class="fas fa-undo-alt"></i>
            <h4>Reembolso garantizado</h4>
            <p>Si el experto rechaza tu solicitud, recibirás el reembolso completo.</p>
          </div>
          <div class="info-item">
            <i class="fas fa-headset"></i>
            <h4>Soporte 24/7</h4>
            <p>Nuestro equipo está disponible para ayudarte en cualquier momento.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <%- include('components/footer') %>

      <!-- Hidden data for JavaScript -->
      <script type="application/json" id="pageStatus"><%- JSON.stringify(status) %></script>

      <!-- Script file -->
      <script src="/assets/js/confirmacionAsesoria.js"></script>
</body>

</html>
