<!--
    Archivo: admin/adminNotificaciones.ejs
    Propósito: Panel para visualizar y administrar notificaciones/enviadas (historial, reintentos).
    Variables EJS esperadas:
        - user: objeto admin (opcional)
    Dependencias CSS/JS:
        - /assets/css/admin-notificaciones.css, /assets/js/admin/admin-notificaciones.js
    Notas técnicas:
        - El historial se carga via JS desde endpoints back-end. Revisar políticas de retención antes de exponer datos sensibles.
-->

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Mensajes - Servitech Admin</title>
    <link rel="stylesheet" href="/assets/css/administrador.css">
    <link rel="stylesheet" href="/assets/css/admin.css">
    <link rel="stylesheet" href="/assets/css/admin-components.css">
    <link rel="stylesheet" href="/assets/css/admin-notificaciones.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="admin-layout">
        <%- include('../componentes/navbarAdmin.ejs') %>
            <main class="admin-main">
                <header class="admin-header">
                    <h1 class="admin-notificaciones__titulo">Historial de Asesorías (Bitácora)</h1>
                </header>
                <div class="admin-content">
                    <div class="admin-notificaciones__contenedor">
                        <div class="admin-notificaciones__filtros">
                            <label for="filtroEstado" class="admin-notificaciones__filtros-label">Filtrar por
                                estado:</label>
                            <select id="filtroEstado" class="admin-notificaciones__filtros-select">
                                <option value="">Todos los estados</option>
                                <option value="enviado">Enviado</option>
                                <option value="fallido">Fallido</option>
                            </select>
                        </div>
                        <table class="admin-notificaciones__tabla" id="tablaNotificaciones">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Email</th>
                                    <th>Asunto</th>
                                    <th>Mensaje</th>
                                    <th>Estado</th>
                                    <th>Tipo</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tbodyNotificaciones">
                                <tr>
                                    <td colspan="8" class="admin-notificaciones__vacio">Cargando...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
    </div>

    <script src="/assets/js/admin/admin-notificaciones.js"></script>
</body>

</html>
